<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Level 1 process • t3</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Level 1 process">
<meta property="og:description" content="Description of the t3 level 1 and how initialise it.
">
<meta property="og:image" content="https://ob7-ird.github.io/t3/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">t3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/model_initialisation.html">Model initialisation and data selection</a>
    </li>
    <li>
      <a href="../articles/level_1.html">Level 1 process</a>
    </li>
    <li>
      <a href="../articles/level_2.html">Level 2 process</a>
    </li>
    <li>
      <a href="../articles/level_3.html">Level 3 process</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/OB7-IRD/t3/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="level_1_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Level 1 process</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/OB7-IRD/t3/blob/HEAD/vignettes/level_1.Rmd" class="external-link"><code>vignettes/level_1.Rmd</code></a></small>
      <div class="hidden name"><code>level_1.Rmd</code></div>

    </div>

    
    
<div style="text-align: justify">
<h2 id="logbooks-standardisation">Logbooks standardisation</h2>
<p>The first level of the t3 process aim to standardize logbook data. These standardization was divided into 8 steps:</p>
<table class="table">
<colgroup>
<col width="42%">
<col width="26%">
<col width="18%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th>Process</th>
<th>Code/method associated</th>
<th>Class(es) associated</th>
<th>Observations</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Process 1.1: Raising Factor level 1</td>
<td><code>rf1()</code></td>
<td>full_trips</td>
<td></td>
</tr>
<tr class="even">
<td>Process 1.2: Raising Factor level 2</td>
<td><code>rf2()</code></td>
<td>full_trips</td>
<td></td>
</tr>
<tr class="odd">
<td>Process 1.3: logbook weigth categories conversion</td>
<td><code>conversion_weigth_category()</code></td>
<td>full_trips</td>
<td></td>
</tr>
<tr class="even">
<td>Process 1.4: postive sets count</td>
<td><code>set_count()</code></td>
<td>full_trips</td>
<td></td>
</tr>
<tr class="odd">
<td>Process 1.5: set duration calculation</td>
<td><code>set_duration()</code></td>
<td>full_trips</td>
<td>In hours</td>
</tr>
<tr class="even">
<td>Process 1.6: time at sea calculation</td>
<td><code>time_at_sea()</code></td>
<td>full_trips</td>
<td>In hours</td>
</tr>
<tr class="odd">
<td>Process 1.7: fishing time calculation</td>
<td><code>fishing_time()</code></td>
<td>full_trips</td>
<td>In hours</td>
</tr>
<tr class="even">
<td>Process 1.8: searching time calculation</td>
<td><code>searching_time()</code></td>
<td>full_trips</td>
<td>In hours</td>
</tr>
</tbody>
</table>
<h3 id="process-1.1-raising-factor-level-1">Process 1.1: Raising Factor level 1</h3>
<p>Catches filled in logbooks are based on visual estimations when they rise from the purse senner salabarde. This is the only technical way available at this moment to have an estimation by species. Thereafter, catches will be stored in one or several wells. During the landing process, well catches will be weighed, generally through a peson located under the unloading crane. By move from set to well(s) we lost the exact information about catch location.</p>
<p>Regarding this process, for each full trip we will calculate a Raising Factor (RF), ratio of landing weight on catch weight. To recall, one full trip should be composed of one or several partial trip, for example if a vessel unloads a part of these wells and go back to the sea with not empty well(s). Furthermore, a RF level 1 value is normally between 0.8 and 1.2. If any values were out of range, an investigation if necessary for data quality control. This range could be modified through function parameters <code>rf1_lowest_limit</code> (by default at 0.8) and <code>rf1_highest_limit</code> (by default at 1.2). In addition, you will find in the function log a warning for each RF level 1 value out of range. This ratio will be applied to logbook catches to adjust declared values (by rising or lower them).</p>
<p>Be careful, so far in the process all RF level 1 values will be applied to the logbook catches associated, even if values are out of range. It’s up to the user to check the log file and correct data, if necessary, before moving to the next process.</p>
<p>Furthermore, not all the well species are weighted during the landing process. Only several tunas species are purchased (and weighted by association). In addition, these species should be different for each fleet, especially because canneries don’t purchased through the same rules according to the fleet. This raising factor will be estimated only on theses species. Species list could be modified through the function parameter <code>species_rf1</code>. For now theses following selections were validated since several years:</p>
<ul>
<li><p>for French (French and Mayotte fleets), use codes 1 (<em>Thunnus albacares</em>), 2 (<em>Katsuwonus pelamis</em>), 3 (<em>Thunnus obesus</em>), 4 (<em>Thunnus alalunga</em>), 9 (mix of tunas species) and 11 (<em>Thunnus tonggol</em>).</p></li>
<li><p>for Spain (Spanish and Seychelles fleets), use codes 1 (<em>Thunnus albacares</em>), 2 (<em>Katsuwonus pelamis</em>), 3 (<em>Thunnus obesus</em>), 4 (<em>Thunnus alalunga</em>), 5 (<em>Euthynnus alletteratus</em>), 6 (<em>Auxis thazard</em>), 9 (mix of tunas species) and 11 (<em>Thunnus tonggol</em>).</p></li>
</ul>
<p>In addition, if logbook(s) are missing we can’t apply the process. In that case, we will tried to apply the process of Raising Factor level 2 (see section below regarding the process <code>rf2()</code>).</p>
<p>By the way, there are several cases when the RF level 1 can’t be calculated. Take a look to the diagram below to have a brief overview of the process. You could notify that the structure of the process should be strange in terms of informatics efficiency (for example with repetitions of some steps, not necessarily on the first look). This is perfectly normal because we think about the potential improvement of the process in the future and we let the field open for an easier implementation.</p>
<p><img style="display: block; margin-left: auto; margin-right: auto; width: 90%;" src="process_1.1.png"></p>
<div style="text-align: center">
Figure 1: Raising Factor level 1 flowchart
</div>
<h3 id="process-1.2-raising-factor-level-2">Process 1.2: Raising Factor level 2</h3>
<p>In some cases, especially for historial data, several logbooks trips were not collected or available. Therefore it’s impossible to apply the process 1.1. Don’t do anything for this trips would result in an under-estimation of catches among the global process. Of course and like the process 1.1, we made the hypostesis that all the landings were know and available.</p>
<p>So far, this process is partially implemented in the source code and in our data simulation since 2000 we haven’t been faced with trips with missing logbooks. Due to time constraints, the development of this process has been postponed, but it will be essential to finalise it when we run our process on the whole time serie (and when we manipulated historical data). The figure below show the actual development of the process.</p>
<p><img style="display: block; margin-left: auto; margin-right: auto; width: 60%;" src="process_1.2.png"></p>
<div style="text-align: center">
Figure 2: Raising Factor level 2 flowchart
</div>
<h3 id="process-1.3-logbook-weigth-categories-conversion">Process 1.3: logbook weigth categories conversion</h3>
<p>The core of the t3 process is to consider that the species composition of the logbooks was biased. Furthermore, logbook information related to global weight catches and weight categories are correct. Indeed, the weight categories of individuals as a strong influence on their commercial value. Furthermore, these weight categories change from one tuna fishing company to another, involves overlaps and are hardly usable directly from the logbook.</p>
<p>This process aims to homogenise these weight categories and create simplify categories divided in function of the fishing school and the ocean:</p>
<ul>
<li>&lt; 10kg and &gt; 10kg for the floating object school in the Atlantic and Indian Ocean,</li>
<li>&lt; 10kg, 10-30kg and &gt; 10kg for undetermined and free school in the Atlantic Ocean,</li>
<li>&lt; 10kg and &gt; 10kg for undetermined and free school in the Indian Ocean.</li>
</ul>
<p>For eatch layer ocean/fishing school/specie/logbook weigth categorie, a distribution key is applied for conversion to standardised weight categories. Details of the distribution key is available in tables below.</p>
<table class="table">
<colgroup>
<col width="17%">
<col width="27%">
<col width="15%">
<col width="40%">
</colgroup>
<thead><tr class="header">
<th>Specie</th>
<th>Logbook weight category</th>
<th>Weight ratio</th>
<th>Standarised logbook weigth category</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>1</td>
<td>1</td>
<td>&lt; 10kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>2</td>
<td>1</td>
<td>&lt; 10kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>3</td>
<td>1</td>
<td>10-30kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>4</td>
<td>0,2</td>
<td>&lt; 10kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>4</td>
<td>0,8</td>
<td>10-30kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>5</td>
<td>1</td>
<td>&gt; 30kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>6</td>
<td>0,5</td>
<td>10-30kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>6</td>
<td>0,5</td>
<td>&gt; 30kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>7</td>
<td>1</td>
<td>&gt; 30kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>8</td>
<td>1</td>
<td>&gt; 30kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>10</td>
<td>1</td>
<td>&lt; 10kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>11</td>
<td>0,1</td>
<td>10-30kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>11</td>
<td>0,9</td>
<td>&gt; 30kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>12</td>
<td>1</td>
<td>10-30kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>13</td>
<td>1</td>
<td>&gt; 30kg</td>
</tr>
<tr class="even">
<td>SKJ</td>
<td>All</td>
<td>1</td>
<td>&lt; 10kg</td>
</tr>
<tr class="odd">
<td>Others</td>
<td>All</td>
<td>1</td>
<td>Unknown</td>
</tr>
</tbody>
</table>
<div style="text-align: center">
Table 1: Distribution conversion key for undetermined and free school in the Atlantic Ocean.
</div>
<table class="table">
<colgroup>
<col width="17%">
<col width="27%">
<col width="15%">
<col width="40%">
</colgroup>
<thead><tr class="header">
<th>Specie</th>
<th>Logbook weight category</th>
<th>Weight ratio</th>
<th>Standarised logbook weigth category</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>1</td>
<td>1</td>
<td>&lt; 10kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>2</td>
<td>1</td>
<td>&lt; 10kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>3</td>
<td>1</td>
<td>&gt; 10kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>4</td>
<td>0,2</td>
<td>&lt; 10kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>4</td>
<td>0,8</td>
<td>&gt; 10kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>5</td>
<td>1</td>
<td>&gt; 10kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>6</td>
<td>1</td>
<td>&gt; 10kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>7</td>
<td>1</td>
<td>&gt; 10kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>8</td>
<td>1</td>
<td>&gt; 10kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>10</td>
<td>1</td>
<td>&lt; 10kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>11</td>
<td>1</td>
<td>&gt; 10kg</td>
</tr>
<tr class="even">
<td>YFT, BET &amp; ALB</td>
<td>12</td>
<td>1</td>
<td>&gt; 10kg</td>
</tr>
<tr class="odd">
<td>YFT, BET &amp; ALB</td>
<td>13</td>
<td>1</td>
<td>&gt; 10kg</td>
</tr>
<tr class="even">
<td>SKJ</td>
<td>All</td>
<td>1</td>
<td>&lt; 10kg</td>
</tr>
<tr class="odd">
<td>Others</td>
<td>All</td>
<td>1</td>
<td>Unknown</td>
</tr>
</tbody>
</table>
<div style="text-align: center">
Table 2: Distribution conversion key for floating object school in the Atlantic Ocean and for undetermined, free and floating object school in the Indian Ocean.
</div>
<p>Among the process, there are two major step:</p>
<ul>
<li>the first one for conversion of all categories except for unknown category (9),</li>
<li>the second one for conversion of category unknown if it’s possible.</li>
</ul>
<p>During the first part, all logbook weight categories except the category unknow are standardised following the distribution conversion key display above. Each catch weight associated is multiply by the weight ratio associated. For several logbook weight category, like the categories 4 or 11 according to strata, this standardisation create new data because the initial logbook weight category is divied into several standardised logbook weight categories. It’s normal that at the end of the process you could have more catch items than before.</p>
<p>For the second part, the process try to make the conversion of catches filled in the unknown category. For each trip and at the scale of an ocean/fishing school/specie, proportion of standardised logbook weight categories will be applied on items filled as unknown logbook weight categories. For example, in a common stratum, if proportion weight of standardised logbook weight category are divided by 60% for the category &lt; 10kg and 40% for the category &gt; 10kg, catches weight of unknown logbook weight category will display in standardised logbook weight category with 60% of &lt; 10kg category and 40% of &gt; 10kg category.</p>
<p>The global process flowchart is available in the figure 3 below.</p>
<p><img style="display: block; margin-left: auto; margin-right: auto; width: 80%;" src="process_1.3.png"></p>
<div style="text-align: center">
Figure 3: Logbook weigth categories conversion flowchart
</div>
<h3 id="process-1.4-postive-sets-count">Process 1.4: postive sets count</h3>
<p>In this process, for each activity filled as null set (0), positive set (1), unknown set (2) or pocket capsizing (14) in the data, a count of set is done according to the catches associated. Like before, the global process flowchart is available below in figure 4.</p>
<p><img style="display: block; margin-left: auto; margin-right: auto; width: 60%;" src="process_1.4.png"></p>
<div style="text-align: center">
Figure 4: Postive sets count flowchart
</div>
<h3 id="process-1.5-set-duration-calculation">Process 1.5: set duration calculation</h3>
<p><img style="display: block; margin-left: auto; margin-right: auto; width: 90%;" src="process_1.5.png"></p>
<h3 id="process-1.6-time-at-sea-estimation">Process 1.6: time at sea estimation</h3>
<p><img style="display: block; margin-left: auto; margin-right: auto; width: 110%;" src="process_1.6.png"></p>
<h3 id="level-1.7-fishing-time-determination">level 1.7: fishing time determination</h3>
<p><img style="display: block; margin-left: auto; margin-right: auto; width: 100%;" src="process_1.7.png"></p>
<h3 id="level-1.8-searching-time-process">level 1.8: searching time process</h3>
<p><img style="display: block; margin-left: auto; margin-right: auto; width: 60%;" src="process_1.8.png"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Mathieu Depetris, Antoine Duparc, Pascal Cauquil, Laurent Floc’h, Julien Lebranchu, IRD - Ob7 Observatory of Exploited Tropical Pelagic Ecosystems.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'b232a295f4339cb13abbd7adee1da479',
    indexName: 'ob7-ird',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
