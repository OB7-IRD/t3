<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Running processes examples • t3</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Running processes examples">
<meta property="og:description" content="Description of running processes examples.
">
<meta property="og:image" content="https://ob7-ird.github.io/t3/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">t3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/model_initialisation.html">Model initialisation and data selection</a>
    </li>
    <li>
      <a href="../articles/level_1.html">Level 1 process</a>
    </li>
    <li>
      <a href="../articles/level_2.html">Level 2 process</a>
    </li>
    <li>
      <a href="../articles/level_3.html">Level 3 process</a>
    </li>
    <li>
      <a href="../articles/running_processes_examples.html">Running processes examples</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/OB7-IRD/t3/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>

    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Running processes examples</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/OB7-IRD/t3/blob/2.1.0/vignettes/running_processes_examples.Rmd" class="external-link"><code>vignettes/running_processes_examples.Rmd</code></a></small>
      <div class="hidden name"><code>running_processes_examples.Rmd</code></div>

    </div>

    
    
<div style="text-align: justify">
<div class="section level2">
<h2 id="process-philosophy">Process philosophy<a class="anchor" aria-label="anchor" href="#process-philosophy"></a>
</h2>
<p>The Topical Tuna Treatment (T3) aim to provide a support for the data
manipulation of tropical tuna surface fisheries. This support can take
many different forms and have various objectives associated. For that
purpose, T3 can be processes in various ways, depending of what
question(s) drive your reflection. You will find below several examples
for running process and help you regarding your personal work.
Furthermore, don’t hesitate to take a look on the issues webpage of the
package (<a href="https://github.com/OB7-IRD/t3/issues" class="external-link uri">https://github.com/OB7-IRD/t3/issues</a>) or send a mail to
<a href="mailto:ob7@ird.fr" class="email">ob7@ird.fr</a> if you need
specific support.</p>
<p>Furthermore, in the following functions the “database_con” argument
refers to an R object which contains connection information with an
observe (or AVDTH) database. For more detail about connections available
check the function documentation. In addition, the argument
“output_path” refer to the output directory on your computer. The
function associated, “initiate_directory”, will create the output
structure for the process.</p>
</div>
<div class="section level2">
<h2 id="running-the-process-step-by-step">Running the process step by step<a class="anchor" aria-label="anchor" href="#running-the-process-step-by-step"></a>
</h2>
<p>Globaly, the T3 process have 3 different parts that you can run
independently from each other. But in some case you could want to run
the entire process step by step, for example to “follow” several
particular data with accuracy. In the code below, you will find an
example of all the process run step by step. The parameters associated
are display in the section called “setup”. You can modified them to
customize the example. If you more information regarding functions
arguments take a look to the R function documentation (or in the
reference website section <a href="https://ob7-ird.github.io/t3/reference/index.html" class="uri">https://ob7-ird.github.io/t3/reference/index.html</a>)</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># setup ----</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/OB7-IRD/t3" class="external-link">t3</a></span><span class="op">)</span></span>
<span><span class="va">years_period</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2006</span>,</span>
<span>                             <span class="fl">2007</span>,</span>
<span>                             <span class="fl">2008</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">target_year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">2008</span><span class="op">)</span></span>
<span><span class="va">period_duration</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co"># countries for the France fleet</span></span>
<span><span class="va">flag_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FRA"</span>,</span>
<span>                <span class="st">"MYT"</span><span class="op">)</span></span>
<span><span class="co"># code 4,5 and 6 for Seiner with baits, Seiner without baits and Large seiner </span></span>
<span><span class="va">vessel_type_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># code 1 for the Atlantic Ocean</span></span>
<span><span class="va">ocean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># code 1 for landing data</span></span>
<span><span class="va">sample_type_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># for french fleet YFT, SKJ, BET, ALB, MIX and LOT</span></span>
<span><span class="va">species_fao_codes_rf1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"YFT"</span>, <span class="st">"SKJ"</span>, <span class="st">"BET"</span>, <span class="st">"ALB"</span>, <span class="st">"MIX"</span>, <span class="st">"LOT"</span><span class="op">)</span></span>
<span><span class="va">species_fate_codes_rf1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">11</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Species fate codes</span></span>
<span><span class="co"># Retained, presumably destined for the cannery : 6,</span></span>
<span><span class="co"># Discarded status unknown (only for EMS and logbook) : 11,</span></span>
<span><span class="va">species_fate_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">11</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># output directories initiation</span></span>
<span><span class="va">final_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initiate_directory.html">initiate_directory</a></span><span class="op">(</span>output_path <span class="op">=</span> <span class="va">output_path</span>,</span>
<span>                                        level <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span><span class="co"># output format</span></span>
<span><span class="va">output_format</span> <span class="op">&lt;-</span> <span class="st">"eu"</span></span>
<span><span class="co"># generation of the confidence interval</span></span>
<span><span class="va">confidence_interval</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span></span>
<span><span class="co"># model creation ----</span></span>
<span><span class="va">object_model_data</span> <span class="op">&lt;-</span> <span class="fu">t3</span><span class="fu">:::</span><span class="va"><a href="../reference/object_model_data.html">object_model_data</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># object trips creation</span></span>
<span><span class="va">object_model_data</span><span class="op">$</span><span class="fu">trips_object_creation</span><span class="op">(</span>data_source <span class="op">=</span> <span class="st">"observe_database"</span>,</span>
<span>                                        years_period <span class="op">=</span> <span class="va">years_period</span>,</span>
<span>                                        flag_codes <span class="op">=</span> <span class="va">flag_codes</span>,</span>
<span>                                        ocean_codes <span class="op">=</span> <span class="va">ocean</span>,</span>
<span>                                        vessel_type_codes <span class="op">=</span> <span class="va">vessel_type_codes</span>,</span>
<span>                                        database_connection <span class="op">=</span> <span class="va">observe_database_con</span><span class="op">)</span></span>
<span><span class="co"># object activities and elementarycatches creation</span></span>
<span><span class="va">object_model_data</span><span class="op">$</span><span class="fu">activities_object_creation</span><span class="op">(</span>data_source <span class="op">=</span> <span class="st">"observe_database"</span>,</span>
<span>                                             years_period <span class="op">=</span> <span class="va">years_period</span>,</span>
<span>                                             flag_codes <span class="op">=</span> <span class="va">flag_codes</span>,</span>
<span>                                             ocean_codes <span class="op">=</span> <span class="va">ocean</span>,</span>
<span>                                             vessel_type_codes <span class="op">=</span> <span class="va">vessel_type_codes</span>,</span>
<span>                                             species_fate_codes <span class="op">=</span> <span class="va">species_fate_codes</span>,</span>
<span>                                             database_connection <span class="op">=</span> <span class="va">observe_database_con</span><span class="op">)</span></span>
<span><span class="co"># object elementarylandings creation</span></span>
<span><span class="va">object_model_data</span><span class="op">$</span><span class="fu">elementarylandings_object_creation</span><span class="op">(</span>data_source <span class="op">=</span> <span class="st">"observe_database"</span>,</span>
<span>                                                     years_period <span class="op">=</span> <span class="va">years_period</span>,</span>
<span>                                                     flag_codes <span class="op">=</span> <span class="va">flag_codes</span>,</span>
<span>                                                     ocean_codes <span class="op">=</span> <span class="va">ocean</span>,</span>
<span>                                                     vessel_type_codes <span class="op">=</span> <span class="va">vessel_type_codes</span>,</span>
<span>                                                     database_connection <span class="op">=</span> <span class="va">observe_database_con</span><span class="op">)</span></span>
<span><span class="co"># object wells creation</span></span>
<span><span class="va">object_model_data</span><span class="op">$</span><span class="fu">wells_object_creation</span><span class="op">(</span>data_source <span class="op">=</span> <span class="st">"observe_database"</span>,</span>
<span>                                        years_period <span class="op">=</span> <span class="va">years_period</span>,</span>
<span>                                        flag_codes <span class="op">=</span> <span class="va">flag_codes</span>,</span>
<span>                                        ocean_codes <span class="op">=</span> <span class="va">ocean</span>,</span>
<span>                                        vessel_type_codes <span class="op">=</span> <span class="va">vessel_type_codes</span>,</span>
<span>                                        sample_type_codes <span class="op">=</span> <span class="va">sample_type_codes</span>,</span>
<span>                                        database_connection <span class="op">=</span> <span class="va">observe_database_con</span><span class="op">)</span></span>
<span><span class="co"># model creation: set durations data</span></span>
<span><span class="va">object_model_data</span><span class="op">$</span><span class="fu">setdurationrefs_data</span><span class="op">(</span>data_source <span class="op">=</span> <span class="st">"csv_file"</span>,</span>
<span>                                       data_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"set_duration_ref.csv"</span>,</span>
<span>                                                               package <span class="op">=</span> <span class="st">"t3"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># model creation: activity code data</span></span>
<span><span class="va">object_model_data</span><span class="op">$</span><span class="fu">activitycoderefs_data</span><span class="op">(</span>data_source <span class="op">=</span> <span class="st">"csv_file"</span>,</span>
<span>                                        data_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"time_allocation_activity_code_ref.csv"</span>,</span>
<span>                                                                package <span class="op">=</span> <span class="st">"furdeb"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># model creation: length steps data</span></span>
<span><span class="va">object_model_data</span><span class="op">$</span><span class="fu">lengthsteps_data</span><span class="op">(</span>data_source <span class="op">=</span> <span class="st">"csv_file"</span>,</span>
<span>                                   data_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"length_step.csv"</span>,</span>
<span>                                                           package <span class="op">=</span> <span class="st">"t3"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># model creation: sample sets data</span></span>
<span><span class="va">object_model_data</span><span class="op">$</span><span class="fu">samplesets_data</span><span class="op">(</span>data_source <span class="op">=</span> <span class="st">"observe_database"</span>,</span>
<span>                                  years_period <span class="op">=</span> <span class="va">years_period</span>,</span>
<span>                                  flag_codes <span class="op">=</span> <span class="va">flag_codes</span>,</span>
<span>                                  ocean_codes <span class="op">=</span> <span class="va">ocean</span>,</span>
<span>                                  vessel_type_codes <span class="op">=</span> <span class="va">vessel_type_codes</span>,</span>
<span>                                  database_connection <span class="op">=</span> <span class="va">observe_database_con</span><span class="op">)</span></span>
<span><span class="co"># model creation: length weight relationships data</span></span>
<span><span class="va">object_model_data</span><span class="op">$</span><span class="fu">lengthweightrelationships_data</span><span class="op">(</span>data_source <span class="op">=</span> <span class="st">"csv_file"</span>,</span>
<span>                                                 data_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"length_weight_relationship.csv"</span>,</span>
<span>                                                                         package <span class="op">=</span> <span class="st">"t3"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># initialisation object for full trips class</span></span>
<span><span class="va">object_full_trips</span> <span class="op">&lt;-</span> <span class="fu">t3</span><span class="fu">:::</span><span class="va"><a href="../reference/full_trips.html">full_trips</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># object full_trip creation</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">create_full_trips</span><span class="op">(</span>object_trips <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">trips</span><span class="op">)</span></span>
<span><span class="co"># add activities and elementarycatches to trips selected</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">add_activities</span><span class="op">(</span>object_activities <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">activities</span><span class="op">)</span></span>
<span><span class="co"># filter by reference year</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">filter_by_years_period</span><span class="op">(</span>years_period <span class="op">=</span> <span class="va">years_period</span><span class="op">)</span></span>
<span><span class="co"># add elementarylandings to trips selected</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">add_elementarylandings</span><span class="op">(</span>object_elementarylandings <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">elementarylandings</span><span class="op">)</span></span>
<span><span class="co"># add well(s) and sample(s) to trip(s) selected</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">add_wells_samples</span><span class="op">(</span>object_wells <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">wells</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># level 1 ---</span></span>
<span><span class="co"># level 1.1: rf1</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">rf1</span><span class="op">(</span>species_fao_codes_rf1 <span class="op">=</span> <span class="va">species_fao_codes_rf1</span>,</span>
<span>                      species_fate_codes_rf1 <span class="op">=</span> <span class="va">species_fate_codes_rf1</span>,</span>
<span>                      global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                      output_format <span class="op">=</span> <span class="va">output_format</span><span class="op">)</span></span>
<span><span class="co"># level 1.2: rf2</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">rf2</span><span class="op">(</span>global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                      output_format <span class="op">=</span> <span class="va">output_format</span><span class="op">)</span></span>
<span><span class="co"># level 1.3: logbook weigth categories conversion ----</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">conversion_weigth_category</span><span class="op">(</span>global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                             output_format <span class="op">=</span> <span class="va">output_format</span>,</span>
<span>                                             referential_template <span class="op">=</span> <span class="st">"observe"</span><span class="op">)</span></span>
<span><span class="co"># level 1.4: set count</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">set_count</span><span class="op">(</span>global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                            output_format <span class="op">=</span> <span class="va">output_format</span>,</span>
<span>                            referential_template <span class="op">=</span> <span class="st">"observe"</span><span class="op">)</span></span>
<span><span class="co"># level 1.5: set duration</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">set_duration</span><span class="op">(</span>set_duration_ref <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">setdurationrefs</span>,</span>
<span>                               activity_code_ref <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">activitycoderefs</span>,</span>
<span>                               global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                               output_format <span class="op">=</span> <span class="va">output_format</span>,</span>
<span>                               referential_template <span class="op">=</span> <span class="st">"observe"</span><span class="op">)</span></span>
<span><span class="co"># level 1.6: time at sea</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">time_at_sea</span><span class="op">(</span>activity_code_ref <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">activitycoderefs</span>,</span>
<span>                              global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                              output_format <span class="op">=</span> <span class="va">output_format</span>,</span>
<span>                              referential_template <span class="op">=</span> <span class="st">"observe"</span><span class="op">)</span></span>
<span><span class="co"># level 1.7: fishing time</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">fishing_time</span><span class="op">(</span>activity_code_ref <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">activitycoderefs</span>,</span>
<span>                               global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                               output_format <span class="op">=</span> <span class="va">output_format</span>,</span>
<span>                               referential_template <span class="op">=</span> <span class="st">"observe"</span><span class="op">)</span></span>
<span><span class="co"># level 1.8: searching time</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">searching_time</span><span class="op">(</span>global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                 output_format <span class="op">=</span> <span class="va">output_format</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># level 2 ----</span></span>
<span><span class="co"># level 2.1: sample length class ld1 to lf conversion</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">sample_length_class_ld1_to_lf</span><span class="op">(</span>length_step <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">lengthsteps</span>,</span>
<span>                                                global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                                output_format <span class="op">=</span> <span class="va">output_format</span>,</span>
<span>                                                referential_template <span class="op">=</span> <span class="st">"observe"</span><span class="op">)</span></span>
<span><span class="co"># level 2.2: sample number measured extrapolation</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">sample_number_measured_extrapolation</span><span class="op">(</span>global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                                       output_format <span class="op">=</span> <span class="va">output_format</span><span class="op">)</span></span>
<span><span class="co"># level 2.3: sample step length class standardisation</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">sample_length_class_step_standardisation</span><span class="op">(</span>global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                                           output_format <span class="op">=</span> <span class="va">output_format</span><span class="op">)</span></span>
<span><span class="co"># level 2.4: well set weight categories</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">well_set_weigth_categories</span><span class="op">(</span>sample_set <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">samplesets</span>,</span>
<span>                                             global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                             output_format <span class="op">=</span> <span class="va">output_format</span>,</span>
<span>                                             referential_template <span class="op">=</span> <span class="st">"observe"</span><span class="op">)</span></span>
<span><span class="co"># level 2.5: standardised sample creation</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">standardised_sample_creation</span><span class="op">(</span>global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                               output_format <span class="op">=</span> <span class="va">output_format</span><span class="op">)</span></span>
<span><span class="co"># level 2.6: sample number standardisation</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">standardised_sample_set_creation</span><span class="op">(</span>length_weight_relationship_data <span class="op">=</span> <span class="va">object_model_data</span><span class="op">$</span><span class="va">.__enclos_env__</span><span class="op">$</span><span class="va">private</span><span class="op">$</span><span class="va">lengthweightrelationships</span>,</span>
<span>                                                   global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                                   output_format <span class="op">=</span> <span class="va">output_format</span><span class="op">)</span></span>
<span><span class="co"># level 2.7: raised factors determination</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">raised_factors_determination</span><span class="op">(</span>global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                               output_format <span class="op">=</span> <span class="va">output_format</span><span class="op">)</span></span>
<span><span class="co"># level 2.8: samples number standardisation at set scale</span></span>
<span><span class="va">object_full_trips</span><span class="op">$</span><span class="fu">raised_standardised_sample_set</span><span class="op">(</span>global_output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                                 output_format <span class="op">=</span> <span class="va">output_format</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># level 3 ----</span></span>
<span><span class="va">process_level3</span> <span class="op">&lt;-</span> <span class="va">object_full_trips</span><span class="op">$</span><span class="fu">path_to_level3</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># level 3.1: data preparatory</span></span>
<span><span class="va">process_level3</span> <span class="op">&lt;-</span> <span class="va">object_full_trips</span><span class="op">$</span><span class="fu">data_preparatory</span><span class="op">(</span>inputs_level3 <span class="op">=</span> <span class="va">process_level3</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                                                     output_directory <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                                     target_year <span class="op">=</span> <span class="va">target_year</span>,</span>
<span>                                                     period_duration <span class="op">=</span> <span class="va">period_duration</span><span class="op">)</span></span>
<span><span class="co"># level 3.2: random forest models ----</span></span>
<span><span class="va">process_level3</span><span class="op">$</span><span class="va">output_level3_process2</span> <span class="op">&lt;-</span> <span class="va">object_full_trips</span><span class="op">$</span><span class="fu">random_forest_models</span><span class="op">(</span>output_level3_process1 <span class="op">=</span> <span class="va">process_level3</span><span class="op">$</span><span class="va">output_level3_process1</span><span class="op">$</span><span class="va">data_lb_sample_screened</span><span class="op">$</span><span class="va">data4mod</span><span class="op">)</span></span>
<span><span class="co"># level 3.3: models checking ----</span></span>
<span><span class="va">process_level3</span><span class="op">$</span><span class="va">output_level3_process3</span> <span class="op">&lt;-</span> <span class="va">object_full_trips</span><span class="op">$</span><span class="fu">models_checking</span><span class="op">(</span>output_level3_process2 <span class="op">=</span> <span class="va">process_level3</span><span class="op">$</span><span class="va">output_level3_process2</span>,</span>
<span>                                                                           output_directory <span class="op">=</span> <span class="va">process_level3</span><span class="op">$</span><span class="va">output_directory</span><span class="op">)</span></span>
<span><span class="co"># level 3.4: data formatting for predictions ----</span></span>
<span><span class="va">process_level3</span><span class="op">$</span><span class="va">output_level3_process4</span> <span class="op">&lt;-</span> <span class="va">object_full_trips</span><span class="op">$</span><span class="fu">data_formatting_for_predictions</span><span class="op">(</span>inputs_level3 <span class="op">=</span> <span class="va">process_level3</span><span class="op">$</span><span class="va">raw_inputs_level3</span>,</span>
<span>                                                                                           output_level3_process1 <span class="op">=</span> <span class="va">process_level3</span><span class="op">$</span><span class="va">output_level3_process1</span><span class="op">$</span><span class="va">data_lb_sample_screened</span><span class="op">$</span><span class="va">data4mod</span>,</span>
<span>                                                                                           target_year <span class="op">=</span> <span class="va">target_year</span>,</span>
<span>                                                                                           country_flag<span class="op">=</span><span class="va">flag_codes</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>                                                                                           input_type <span class="op">=</span> <span class="st">"observe_database"</span><span class="op">)</span></span>
<span><span class="co"># level 3.5: predictions ----</span></span>
<span><span class="va">process_level3</span><span class="op">$</span><span class="va">output_level3_process5</span> <span class="op">&lt;-</span> <span class="va">object_full_trips</span><span class="op">$</span><span class="fu">model_predictions</span><span class="op">(</span>output_level3_process2 <span class="op">=</span> <span class="va">process_level3</span><span class="op">$</span><span class="va">output_level3_process2</span>,</span>
<span>                                                                             output_level3_process4 <span class="op">=</span> <span class="va">process_level3</span><span class="op">$</span><span class="va">output_level3_process4</span>,</span>
<span>                                                                             output_directory <span class="op">=</span> <span class="va">process_level3</span><span class="op">$</span><span class="va">output_directory</span>,</span>
<span>                                                                             ci <span class="op">=</span> <span class="va">confidence_interval</span>,</span>
<span>                                                                             country_flag<span class="op">=</span><span class="va">flag_codes</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="shortcut-functions">Shortcut functions<a class="anchor" aria-label="anchor" href="#shortcut-functions"></a>
</h2>
<p>Through the following codes, you will be able to run separately each
part of the treatment.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># setup ----</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/OB7-IRD/t3" class="external-link">t3</a></span><span class="op">)</span></span>
<span><span class="co"># Reference period </span></span>
<span><span class="va">years_period</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2006</span>,</span>
<span>                             <span class="fl">2007</span>,</span>
<span>                             <span class="fl">2008</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">target_year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">2008</span><span class="op">)</span></span>
<span><span class="va">period_duration</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">flag_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FRA"</span>,</span>
<span>                <span class="st">"MYT"</span><span class="op">)</span></span>
<span><span class="co"># Seiner with baits, Seiner without baits and Large seiner (code 4,5 and 6)</span></span>
<span><span class="va">vessel_type_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># code 1 for the Atlantic Ocean</span></span>
<span><span class="va">ocean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># code 1 for landing data</span></span>
<span><span class="va">sample_type_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># For french fleet </span></span>
<span><span class="va">species_fao_codes_rf1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"YFT"</span>, <span class="st">"SKJ"</span>, <span class="st">"BET"</span>, <span class="st">"ALB"</span>, <span class="st">"MIX"</span>, <span class="st">"LOT"</span><span class="op">)</span></span>
<span><span class="co"># Species fate codes</span></span>
<span><span class="co"># Retained, presumably destined for the cannery : 6,</span></span>
<span><span class="co"># Discarded status unknown (only for EMS and logbook) : 11,</span></span>
<span><span class="va">species_fate_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">11</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># output directories initiation</span></span>
<span><span class="va">final_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initiate_directory.html">initiate_directory</a></span><span class="op">(</span>output_path <span class="op">=</span> <span class="va">output_path</span>,</span>
<span>                                        level <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span><span class="co"># output format</span></span>
<span><span class="va">output_format</span> <span class="op">&lt;-</span> <span class="st">"eu"</span></span>
<span><span class="co"># generation of the confidence interval</span></span>
<span><span class="va">confidence_interval</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span></span>
<span><span class="co"># data model initialization ----</span></span>
<span><span class="va">t3_process</span> <span class="op">&lt;-</span> <span class="fu">t3</span><span class="fu">::</span><span class="fu"><a href="../reference/data_model_initialisation.html">data_model_initialisation</a></span><span class="op">(</span>data_source <span class="op">=</span> <span class="st">"observe_database"</span>,</span>
<span>                                            database_connection <span class="op">=</span> <span class="va">observe_database_con</span>,</span>
<span>                                            species_fate_codes <span class="op">=</span> <span class="va">species_fate_codes</span>,</span>
<span>                                            years_period <span class="op">=</span> <span class="va">years_period</span>,</span>
<span>                                            flag_codes <span class="op">=</span> <span class="va">flag_codes</span>,</span>
<span>                                            vessel_type_codes <span class="op">=</span> <span class="va">vessel_type_codes</span>,</span>
<span>                                            ocean_codes <span class="op">=</span> <span class="va">ocean</span>,</span>
<span>                                            sample_type_codes <span class="op">=</span> <span class="va">sample_type_codes</span><span class="op">)</span></span>
<span><span class="co"># level 1 ----</span></span>
<span><span class="va">t3_process</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">t3</span><span class="fu">::</span><span class="fu"><a href="../reference/t3_level1.html">t3_level1</a></span><span class="op">(</span>object_model_data <span class="op">=</span> <span class="va">t3_process</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                                 object_full_trips <span class="op">=</span> <span class="va">t3_process</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                                 species_fao_codes_rf1 <span class="op">=</span> <span class="va">species_fao_codes_rf1</span>,</span>
<span>                                 species_fate_codes_rf1 <span class="op">=</span> <span class="va">species_fate_codes</span>,</span>
<span>                                 vessel_type_codes_rf1 <span class="op">=</span> <span class="va">vessel_type_codes</span>,</span>
<span>                                 output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                 output_format <span class="op">=</span> <span class="va">output_format</span>, </span>
<span>                                 referential_template<span class="op">=</span> <span class="st">"observe"</span><span class="op">)</span></span>
<span><span class="co"># level 2 ----</span></span>
<span><span class="va">t3_process</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">t3</span><span class="fu">::</span><span class="fu"><a href="../reference/t3_level2.html">t3_level2</a></span><span class="op">(</span>object_model_data <span class="op">=</span> <span class="va">t3_process</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                                 object_full_trips <span class="op">=</span> <span class="va">t3_process</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                                 output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                 output_format <span class="op">=</span> <span class="va">output_format</span>,</span>
<span>                                 referential_template<span class="op">=</span> <span class="st">"observe"</span><span class="op">)</span></span>
<span><span class="co"># level 3 ----</span></span>
<span><span class="va">t3_process</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">t3_process</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">path_to_level3</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">t3_process</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"process_level3"</span></span>
<span><span class="va">t3_process</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">t3</span><span class="fu">::</span><span class="fu"><a href="../reference/t3_level3.html">t3_level3</a></span><span class="op">(</span>inputs_level3 <span class="op">=</span> <span class="va">t3_process</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                                 target_year <span class="op">=</span> <span class="va">target_year</span>,</span>
<span>                                 period_duration <span class="op">=</span> <span class="va">period_duration</span>,</span>
<span>                                 country_flag <span class="op">=</span> <span class="va">flag_codes</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>                                 input_type <span class="op">=</span> <span class="st">"observe_database"</span>,</span>
<span>                                 ci <span class="op">=</span> <span class="va">confidence_interval</span>,</span>
<span>                                 output_path <span class="op">=</span> <span class="va">final_output_path</span>,</span>
<span>                                 output_format <span class="op">=</span> <span class="va">output_format</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="global-shortcut-function">Global shortcut function<a class="anchor" aria-label="anchor" href="#global-shortcut-function"></a>
</h2>
<p>The last section presents an example of a function able to run all
the t3 process through one command line. Like before, you can “play”
with the arguments to customize the function, especially if you want to
skip part(s) of the process.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># setup ----</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/OB7-IRD/t3" class="external-link">t3</a></span><span class="op">)</span></span>
<span><span class="va">years_period</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2006</span>,</span>
<span>                             <span class="fl">2007</span>,</span>
<span>                             <span class="fl">2008</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">target_year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">2008</span><span class="op">)</span></span>
<span><span class="va">period_duration</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co"># countries for the France fleet</span></span>
<span><span class="va">flag_codes</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FRA"</span>,</span>
<span>                 <span class="st">"MYT"</span><span class="op">)</span></span>
<span><span class="co"># Seiner with baits, Seiner without baits and Large seiner (code 4,5 and 6)</span></span>
<span><span class="va">vessel_type_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># code 1 for the Atlantic Ocean</span></span>
<span><span class="va">ocean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># code 1 for landing data</span></span>
<span><span class="va">sample_type_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># for french fleet </span></span>
<span><span class="va">species_fao_codes_rf1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"YFT"</span>, <span class="st">"SKJ"</span>, <span class="st">"BET"</span>, <span class="st">"ALB"</span>, <span class="st">"MIX"</span>, <span class="st">"LOT"</span><span class="op">)</span></span>
<span><span class="co"># Species fate codes</span></span>
<span><span class="co"># Retained, presumably destined for the cannery : 6,</span></span>
<span><span class="co"># Discarded status unknown (only for EMS and logbook) : 11,</span></span>
<span><span class="va">species_fate_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">11</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">species_fate_codes_rf1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">11</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># output directories initiation</span></span>
<span><span class="va">final_output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initiate_directory.html">initiate_directory</a></span><span class="op">(</span>output_path <span class="op">=</span> <span class="va">output_path</span>,</span>
<span>                                        level <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span><span class="co"># output format</span></span>
<span><span class="va">output_format</span> <span class="op">&lt;-</span> <span class="st">"eu"</span></span>
<span><span class="co"># generation of the confidence interval</span></span>
<span><span class="va">confidence_interval</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span></span>
<span><span class="co"># process ----</span></span>
<span><span class="va">t3_process_all</span> <span class="op">&lt;-</span> <span class="fu">t3</span><span class="fu">::</span><span class="fu"><a href="../reference/t3_process.html">t3_process</a></span><span class="op">(</span>process <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>                                 data_source <span class="op">=</span> <span class="st">"observe_database"</span>,</span>
<span>                                 database_connection <span class="op">=</span> <span class="va">observe_database_con</span>,</span>
<span>                                 output_path <span class="op">=</span> <span class="va">output_path</span>,</span>
<span>                                 output_format <span class="op">=</span> <span class="st">"eu"</span>,</span>
<span>                                 years_period <span class="op">=</span> <span class="va">years_period</span>,</span>
<span>                                 flag_codes <span class="op">=</span> <span class="va">flag_codes</span>,</span>
<span>                                 ocean_codes <span class="op">=</span> <span class="va">ocean</span>,</span>
<span>                                 sample_type_codes <span class="op">=</span> <span class="va">sample_type_codes</span>,</span>
<span>                                 species_fate_codes <span class="op">=</span> <span class="va">species_fate_codes</span>,</span>
<span>                                 vessel_type_codes <span class="op">=</span> <span class="va">vessel_type_codes</span>,</span>
<span>                                 species_fao_codes_rf1 <span class="op">=</span> <span class="va">species_fao_codes_rf1</span>,</span>
<span>                                 species_fate_codes_rf1 <span class="op">=</span> <span class="va">species_fate_codes_rf1</span>,</span>
<span>                                 target_year <span class="op">=</span> <span class="va">target_year</span>,</span>
<span>                                 period_duration <span class="op">=</span> <span class="va">period_duration</span>,</span>
<span>                                 ci <span class="op">=</span> <span class="va">confidence_interval</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jeanne Clément, Mathieu Depetris, Antoine Duparc, Pascal Cauquil, Laurent Floc’h, Julien Lebranchu, IRD - Ob7 Observatory of Exploited Tropical Pelagic Ecosystems.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({


    apiKey: 'b232a295f4339cb13abbd7adee1da479',
    indexName: 'ob7-ird',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
